# Stash 下使用中兴F50

## 背景

中兴F50是一款随身WiFi设备， 同时支持短信收发管理

原本打算将F50接入电脑，电脑本身通过原来的WiFI上网，然后能在F50的后台里查看短信

## 问题

F50接入后无法正常上网，表现为直连的请求全部失败，代理的请求全部正常

如果切换为全局，网络使用也会正常

查看日志发现, 对于局域网内的 DNS 请求,  通过 `en14` 网口, 不可达

```
A failed: 1 dns server(s) failed, first error: transport layer error: dial udp 192.168.71.19:53: i/o timeout via interface en14
```

### 网口信息

Mac 本机网口

```
en0: flags=8863<UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST> mtu 1500
	options=6460<TSO4,TSO6,CHANNEL_IO,PARTIAL_CSUM,ZEROINVERT_CSUM>
	ether 82:72:64:0a:b9:5a
	inet6 fe80::eb:d028:90b4:2c5d%en0 prefixlen 64 secured scopeid 0xe 
	inet6 240e:b8f:bfb6:bc00:1888:f5f2:7f49:4064 prefixlen 64 autoconf secured 
	inet6 240e:b8f:bfb6:bc00:a0de:9d72:1471:73dd prefixlen 64 autoconf temporary 
	inet 192.168.71.19 netmask 0xffffff00 broadcast 192.168.71.255
	nd6 options=201<PERFORMNUD,DAD>
	media: autoselect
	status: active
```

中兴 F50

```
en14: flags=8863<UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST> mtu 1500
	options=6464<VLAN_MTU,TSO4,TSO6,CHANNEL_IO,PARTIAL_CSUM,ZEROINVERT_CSUM>
	ether 10:3c:59:b7:fe:f2
	inet6 fe80::101c:8f4e:ead6:6578%en14 prefixlen 64 secured scopeid 0x2b 
	inet6 2409:891f:ab64:8630:18d1:e132:1319:7dd4 prefixlen 64 autoconf secured 
	inet6 2409:891f:ab64:8630:4490:f972:cd20:1875 prefixlen 64 autoconf temporary 
	inet 192.168.0.76 netmask 0xffffff00 broadcast 192.168.0.255
	nd6 options=201<PERFORMNUD,DAD>
	media: autoselect (100baseTX <full-duplex>)
	status: active
```

## 解决方案

1. 打开 `System Settings` -> `Network`
2. 对 `Wi-Fi`右键选择 `Set Service Order...`
3. 调整顺序，将 `Wi-Fi` 移动到顶部即可.

调整后, 让 `Stash` 的内部出站遵循 `Network` 里的服务顺序
